/* Prevent background scroll when fullscreen */
.no-scroll {
	overflow: hidden;
}

/* Base modal positioning */
.chat-widget-modal {
	position: fixed;
	bottom: 16px;
	right: 16px;
	z-index: 1000;
	max-width: 420px;
	display: flex;
	flex-direction: column;
}

/* Fullscreen uses small viewport height for mobile browsers */
.chat-widget-modal--fullscreen {
	position: fixed;
	inset: 0;
	width: 100%;
	height: 100svh; /* small viewport for mobile UI chrome */
	max-width: none;
	border-radius: 0;
	z-index: 1000;
	background: var(--chat-bg, #fff);
	display: flex;
	flex-direction: column;
	/* Safe-area padding for iOS */
	padding-top: env(safe-area-inset-top);
	padding-bottom: env(safe-area-inset-bottom);
}

/* Prefer dynamic viewport height when supported to avoid bottom clipping */
@supports (height: 100dvh) {
	.chat-widget-modal--fullscreen {
		height: 100dvh;
	}
}

/* Ensure header/footer don't shrink and body scrolls */
.chat-widget-header {
	flex: 0 0 auto;
}

.chat-widget-body {
	flex: 1 1 0;
	min-height: 0; /* allow flex child to shrink */
	overflow: auto; /* scroll messages inside */
}

.chat-widget-form {
	flex: 0 0 auto;
	/* Ensure controls arenâ€™t under the home indicator */
	padding-bottom: env(safe-area-inset-bottom);
}
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
        label:has(+ input[required]):not(:has(.required-indicator))::after,
        label:has(+ textarea[required]):not(:has(.required-indicator))::after,
        label:has(+ select[required]):not(:has(.required-indicator))::after,
        label:has(+ div input[required]):not(:has(.required-indicator))::after,
        label:has(+ div textarea[required]):not(:has(.required-indicator))::after,
        label:has(+ div select[required]):not(:has(.required-indicator))::after {
                content: " *";
                color: theme('colors.red.600');
                font-weight: 600;
        }

        .required-indicator {
                color: theme('colors.red.600');
                font-weight: 600;
                margin-left: 0.125rem;
        }
}

@media screen {
	.print-only {
		display: none;
	}
}

@media print {
	body {
		background: #fff;
	}

	.print-hidden {
		display: none !important;
	}

	.print-only {
		display: block !important;
	}

	.print-table {
		width: 100%;
		border-collapse: collapse;
	}

	.print-table th,
	.print-table td {
		border: 1px solid #000;
		padding: 6px 8px;
		font-size: 12px;
		text-align: left;
	}

	.print-table th {
		font-weight: 600;
	}
}

/* Quick comment bar visibility for touch-first devices */
.quick-comment-bar {
	display: none;
}

/* Show on touch devices (coarse pointer, no hover) and limit to reasonably sized screens to avoid large touch-desktops */
@media (hover: none) and (pointer: coarse) and (max-width: 1280px) {
	.quick-comment-bar {
		display: block !important;
	}
}